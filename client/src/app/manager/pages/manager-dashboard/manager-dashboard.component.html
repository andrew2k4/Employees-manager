<main class="dashboard-container">
  <p-toast></p-toast>

  <!-- Boutons pour basculer entre les tableaux de bord -->
  <div class="dashboard-toggle-buttons">
    <button class="toggle-button" (click)="changeDashboard(true)">
      Project Dashboard
    </button>
    <button class="toggle-button" (click)="changeDashboard(false)">
      Employee Dashboard
    </button>
  </div>

  <!-- Projet Dashboard -->
  <project-dashboard
    *ngIf="isProjectDashboardActive; else employeeDashboard"
    [projects]="projects"
  >
  </project-dashboard>

  <!-- Employee Dashboard -->
  <ng-template #employeeDashboard>
    <h1 class="title text-center">Beschäftige Dashboard</h1>

    <!-- Filtre -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Filter</mat-label>
      <mat-select
        [(value)]="selected"
        (selectionChange)="onChangeFilter(selected)"
      >
        <mat-option [value]="0">Alle</mat-option>
        <mat-option [value]="1">Diese Woche</mat-option>
        <mat-option [value]="2">Diese Monat</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Tableau des données des employés -->
    <table class="employee-table">
      <thead>
        <tr>
          <th>Kollege</th>
          <th>Aufgabe</th>
          <th>Stunde</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUserDashboard">
          <td>{{ user.name }}</td>
          <td>
            <ul>
              <li *ngFor="let task of user.tasks">{{ task.description }}</li>
            </ul>
          </td>
          <td>{{ user.workHours }}</td>
        </tr>
      </tbody>
    </table>
  </ng-template>
</main>
